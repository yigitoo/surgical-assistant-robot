<?xml version="1.0"?>
<robot name="misa" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:property name="pi" value="3.1415926535897931"/>
  <xacro:property name="Le" value="0.156051"/>
  <xacro:property name="common_link_mass" value="0.780"/>

  <link name="world"/>

  <joint name="prismatic_joint" type="prismatic">
    <parent link="world"/>
    <axis xyz = "0 0 1" />
    <child link="prismatic_joint_base"/>
    <limit effort="5.0" lower="0" upper="0.30" velocity = "0.5"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
  </joint>

  <link name="prismatic_joint_base">
    <visual>
      <origin rpy="0 0 ${-pi}" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://misa_description/meshes/base.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <mass value = "0.125" />
      <inertia ixx = "0.001" iyy = "0.001" izz = "0.001" ixy = "0.001" ixz = "0.001" iyz = "0.001"/>
    </inertial>
    <collision>
      <geometry>
        <mesh filename="package://misa_description/meshes/base.stl"/>
      </geometry>
    </collision>
  </link>

  <joint name="joint1" type="continuous">
    <parent link="prismatic_joint_base"/>
    <child link="link_2"/>
    <origin xyz="0.0545 0 0"/>
  </joint>

  <link name="link_2">
    <visual>
      <origin rpy="0.0 ${pi/2} 0" xyz="0.001 0 0"/>
      <geometry>
        <mesh filename="package://misa_description/meshes/common_link.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <mass value = "${common_link_mass}"/>
      <origin rpy = "0.0 ${pi/2} 0" xyz = "0.78 0 0.78"/>
      <inertia ixx = "0.006" iyy = "0.011" izz = "0.006" ixy = "-0.000002" ixz = "-0.005" iyz = "-0.00000192"/>
    </inertial>
    <collision>
      <geometry>
        <mesh filename="package://misa_description/meshes/common_link.stl"/>
      </geometry>
    </collision>

  </link>

    <joint name = "joint2" type = "continuous">
      <parent link = "link_2"/>
      <child link = "link_3"/>
      <origin xyz = "${Le} 0 ${Le}"/>
      <axis xyz = "0 0 1" />
    </joint>

    <link name = "link_3">
      <visual>
        <origin rpy = "0.0 0 ${pi/2}" xyz = "0 0 0.001"/>
        <geometry>
          <mesh filename = "package://misa_description/meshes/common_link.dae" scale="0.001 0.001 0.001"/>
        </geometry>
      </visual>
      <inertial>
        <mass value = "${common_link_mass}"/>
        <origin rpy = "0.0 0 ${pi/2}" xyz = "0 -0.78 0.78"/>
        <inertia ixx = "0.006" iyy = "0.011" izz = "0.006" ixy = "-0.000002" ixz = "-0.005" iyz = "-0.00000192"/>
      </inertial>
      <collision>
        <geometry>
          <mesh filename="package://misa_description/meshes/common_link.stl"/>
        </geometry>
      </collision>
    </link>

    <joint name = "joint3" type = "continuous">
      <parent link = "link_3"/>
      <child link = "link_4"/>
      <origin xyz = "0 -${Le} ${Le}"/>
      <axis xyz = "0 -1 0" />
    </joint>

    <link name = "link_4">
      <visual>
        <origin rpy = "${pi/2} 3.1415 0" xyz = "0 -0.001 0"/>
        <geometry>
          <mesh filename = "package://misa_description/meshes/common_link.dae" scale="0.001 0.001 0.001"/>
        </geometry>
      </visual>
      <inertial>
        <mass value = "${common_link_mass}"/>
        <origin rpy = "${pi/2} 3.1415 0" xyz = "0.78 -0.78 0"/>
        <inertia ixx = "0.006" iyy = "0.011" izz = "0.006" ixy = "-0.000002" ixz = "-0.005" iyz = "-0.00000192"/>
      </inertial>
      <collision>
        <geometry>
          <mesh filename="package://misa_description/meshes/common_link.stl"/>
        </geometry>
      </collision>
  </link>

  <joint name = "joint4" type = "continuous">
    <parent link = "link_4"/>
    <child link = "link_5"/>
    <origin xyz = "${Le} -${Le} 0"/>
    <axis xyz = "1 0 0" />
  </joint>

  <link name = "link_5">
    <visual>
      <origin rpy = "0 ${pi/2} 0" xyz = "0.001 0 0"/>
      <geometry>
        <mesh filename = "package://misa_description/meshes/end_link.dae" scale="0.001 0.001 0.001"/>
      </geometry>
    </visual>
    <inertial>
      <mass value = "0.230"/>
      <origin rpy = "0 0 0" xyz = "0.78 0.78 0" />
      <inertia ixx = "0.0001957" iyy = "0.000198" izz = "0.0001852" ixy = "0.000007265" ixz = "0.00001318" iyz = "-0.00001095"/>
    </inertial>
    <collision>
      <geometry>
        <mesh filename="package://misa_description/meshes/end_link.stl"/>
      </geometry>
    </collision>
  </link>

</robot>
